<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Lazy Loading Demo (IntersectionObserver)</title>
    <link rel="stylesheet" href="./style.css" />
  </head>

  <body>
    <nav class="navbar">
      <a href="intersectionobserver.html" class="active">IntersectionObserver</a>
      <a href="NativeLazyLoading.html">Native Lazy Loading</a>
    </nav>

    <main class="page">
      <section class="card">
        <h1>Lazy loading with IntersectionObserver</h1>

        <p class="note">
          Load images only when users actually need them. The
          <a href="https://developer.mozilla.org/en-US/docs/Web/API/IntersectionObserver" target="_blank" rel="noopener"><code>IntersectionObserver</code></a> API
          detects when elements enter the viewport and triggers image loading at precisely the right moment.
        </p>
        <p class="note">
          <strong>Why use this?</strong> Unlike native lazy loading, IntersectionObserver gives you
          full control over timing, thresholds, and loading behavior—ideal for custom implementations.
        </p>
        <p class="note">
          <a href="https://caniuse.com/?search=IntersectionObserver" target="_blank" rel="noopener">Check browser support →</a>
        </p>
      </section>

      <section class="card cardSecondary">
        <h2>How it works</h2>
        <p class="note">
          <strong>1.</strong> Images start as lightweight placeholders with the real URL stored in <code>data-src</code>.
        </p>
        <p class="note">
          <strong>2.</strong> The observer watches each placeholder and fires when it approaches the viewport.
        </p>
        <p class="note">
          <strong>3.</strong> On intersection, JavaScript swaps <code>data-src</code> → <code>src</code>, triggering the actual image load.
        </p>
      </section>

      <section
        id="imageGrid"
        class="grid"
        aria-label="Rendered images"
      ></section>
    </main>

    <script src="./app.js" defer></script>
  </body>
</html>
